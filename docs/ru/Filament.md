<h1 align="center">Filament</h1>

Макрос - это небольшая программа на языке Klipper/Gcode. 

Он может вызываться:

- Из файла GCODE
- Из консоли Fluidd/Mainsail (нажать английскую букву `C` в fluidd)

!!! note
    *Значение указанное в скобках - это значение по умолчанию*

---

### COLDPULL

Колдпул (очистка сопла) без насилия.
Реализация [этого алгоритма](https://t.me/FF_5M_5M_Pro/2836/447172)

- Выбираете чем чистить (PETG, ABS, NEYLON)
- Следуете инструкциям в консоли FLUIDD. 
- Выдергиваете остаток из сопла

---

### M600

Пауза и замена филамента

---

### COLOR

*Только AD5X*

Управление типом пластика, цветом пластика, загрузкой и выгрузкой филамента из цветных катушек.

Работает, только в режиме работы с родным экраном

---

### SET_PAUSE_NEXT_LAYER

Установить паузу/вызвать макрос на следующем слое

- ENABLE - 0 - выключить, 1 - включить (1)
- MACRO - макрос, для вызова (`PAUSE`)

---

### SET_PAUSE_AT_LAYER

Включить/Выключить паузу на конкретном номере слоя

- ENABLE - 0 - выключить, 1 - включить (1)
- MACRO - макрос, для вызова (`PAUSE`)
- LAYER - номер слоя (0)

---
!!! warning
    Чтобы эти функции работали, нужно в стартовый код добавить:
    ```
    SET_PRINT_STATS_INFO TOTAL_LAYER=[total_layer_count]
    ```
    
    В код смены слоя добавить:
    ```
    SET_PRINT_STATS_INFO CURRENT_LAYER={layer_num + 1}
    ```

