<h1 align="center">Telegram Bot</h1>

*[Read in English](https://github.com/ghzserg/zmod/wiki/Telegram_en)*

| –§—É–Ω–∫—Ü–∏—è / –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å | [–ü–ª–∞–≥–∏–Ω Notify](https://github.com/ghzserg/notify/blob/main/Readme_ru.md) | [Moonraker Telegram Bot](https://github.com/ghzserg/zmod/wiki/Telegram_ru) |
| :--- | :---: | :---: |
| **–¢—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–µ—Ä** | ‚Äì | + |
| **–£–¥–∞–ª—ë–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–º** | ‚Äì (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ [zmod.link](https://zmod.link)) | + |
| **–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–π–º–ª–∞–ø—Å–∞** | ‚Äì (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ [timelapse](https://github.com/ghzserg/timelapse/blob/main/Readme_ru.md)) | + |
| **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö –ø–µ—á–∞—Ç–∏** (—Å—Ç–∞—Ä—Ç, –ø–∞—É–∑–∞, –æ—Ç–º–µ–Ω–∞, –æ–∫–æ–Ω—á–∞–Ω–∏–µ) | + | + |
| **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç –¥–∞—Ç—á–∏–∫–∞ —Ñ–∏–ª–∞–º–µ–Ω—Ç–∞** | + | + |
| **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ –ø–µ—á–∞—Ç–∏ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö** | + | + |
| **–†–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏ —á–µ—Ä–µ–∑ –æ–¥–Ω–æ–≥–æ –±–æ—Ç–∞** | + | ‚Äì |
| **–ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∏–Ω–∏–µ —á–µ—Ä–µ–∑ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã** | + | - |
| **Splooman** | - | + |

[@zmod_help_bot](http://t.me/zmod_help_bot)

---

–ï—Å–ª–∏ –≤–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram - —Ç–æ [–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–ª–∞–≥–∏–Ω Notify](https://github.com/ghzserg/notify/blob/main/Readme_ru.md)

<table style="width: 100%; table-layout: fixed;" align="center">
<thead><tr>
  <th colspan="2"><p align="center"><strong>üî∑ Telegram Bot üî∑</strong></p></th>
</tr></thead>
<tbody>
 <tr>
  <td align="center"><a href="https://github.com/ghzserg/zmod/wiki/Telegram_ru#%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5">–û–ø–∏—Å–∞–Ω–∏–µ</a></td>
  <td align="center"><a href="https://github.com/ghzserg/zmod/wiki/Telegram_ru#%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B1%D0%BE%D1%82%D0%B0">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–æ—Ç–∞</a></td>
 </tr>
 <tr>
  <td align="center"><a href="https://github.com/ghzserg/zmod/wiki/Telegram_ru#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D1%82%D0%B5%D0%BB%D0%B5%D0%B3%D1%80%D0%B0%D0%BC%D0%BC-%D0%B1%D0%BE%D1%82%D0%B0-%D0%BE%D0%B4%D0%BD%D0%BE%D0%B9-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D0%BE%D0%B9-%D0%BD%D0%B0-debian">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞ —Ç–µ–ª–µ–≥—Ä–∞–º–º –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π –Ω–∞ Debian</a></td>
  <td align="center"><a href="https://github.com/ghzserg/zmod/wiki/Telegram_ru#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D1%82%D0%B5%D0%BB%D0%B5%D0%B3%D1%80%D0%B0%D0%BC%D0%BC-%D0%B1%D0%BE%D1%82%D0%B0-%D0%BF%D0%BE-%D1%88%D0%B0%D0%B3%D0%B0%D0%BC">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞ —Ç–µ–ª–µ–≥—Ä–∞–º–º –ø–æ—à–∞–≥–æ–≤–æ</a></td>
 </tr>
 <tr>
  <td align="center"><a href="https://github.com/ghzserg/zmod/wiki/Telegram_ru#%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-ssh-%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%B9">–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–π ssh</a></td>
  <td align="center"><a href="https://github.com/ghzserg/zmod/wiki/Telegram_ru#%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA-zssh-%D0%BD%D0%B0-%D0%BF%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B5">–ó–∞–ø—É—Å–∫ ZSSH –Ω–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–µ</td>
 </tr>
 <tr>
<td align="center"><a href="https://github.com/ghzserg/zmod/wiki/Telegram_ru#TimeZone">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Time Zone</td>
<td align="center"><a href="https://github.com/ghzserg/zmod/wiki/Telegram_ru#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B8-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D0%B4%D0%BB%D1%8F-armbian-%D0%BE%D1%82-noyhay">–î–ª—è Armbian</td>
 </tr>
 <tr>
  <td align="center"><a href="https://github.com/ghzserg/zmod/wiki/Telegram_ru#spoolman">Spoolman</a></td>
  <td align="center"><a href="https://github.com/seligor/web-timelapse">Web Timelaps</a></td>
 </tr>
 <tr>
 <td align="center"><a href="https://github.com/ghzserg/zmod/wiki/Telegram_ru#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B1%D0%BE%D1%82%D0%B0-%D1%82%D0%B5%D0%BB%D0%B5%D0%B3%D1%80%D0%B0%D0%BC%
D0%BC-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-helm-%D0%B2-kubernetes-%D0%BE%D1%82-aldiserg">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞ —Ç–µ–ª–µ–≥—Ä–∞–º–º —á–µ—Ä–µ–∑ helm –≤ kubernetes</td>
 <td align="center"><a href="https://github.com/ghzserg/zmod/wiki/Telegram_ru#%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B-%D1%81-%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%D0%BC-%D0%BF%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B0-%D0%BA-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D1%83-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-ssh">–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏</td>
 </tr>
 </tbody>
</table>


## Telegram Bot

### –û–ø–∏—Å–∞–Ω–∏–µ

–ï—Å–ª–∏ –≤–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram - —Ç–æ [–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–ª–∞–≥–∏–Ω Notify](https://github.com/ghzserg/notify/blob/main/Readme_ru.md)

–°—É—Ç—å:
–£ –Ω–∞—Å –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ–µ  –∂–µ–ª–µ–∑–æ –∏ –æ—á–µ–Ω—å –º–∞–ª–æ –ø–∞–º—è—Ç–∏. –ü–æ—ç—Ç–æ–º—É –Ω–∞ –∂–µ–ª–µ–∑–µ –∑–∞–ø—É—Å–∫–∞—Ç—å moonraker-telegram-bot –Ω–µ—Ç —Å–º—ã—Å–ª–∞. 
–ù–æ –º—ã –µ–≥–æ –º–æ–∂–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ –≤–Ω–µ—à–Ω–µ–º —Å–µ—Ä–≤–µ—Ä–µ.
–î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–µ–Ω –ª—é–±–æ–π  —Å–µ—Ä–≤–µ—Ä (—Ä–µ–∞–ª—å–Ω—ã–π/–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π), –¥–æ –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–º–æ–∂–µ—Ç –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –ø—Ä–∏–Ω—Ç–µ—Ä –ø–æ SSH.

–ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –∞–≤—Ç–æ–º–∞—Ç–æ–º —Å–æ–∑–¥–∞–µ—Ç SSH –∫–ª—é—á–∏ (–æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –±–µ–∑ –ø–∞—Ä–æ–ª–µ–π).

–ö–ª—é—á–∏ –ª–µ–∂–∞—Ç —Ç—É—Ç:
- `‚Äé/mod_data/ssh.pub.txt` - —ç—Ç–æ –æ—Ç–∫—Ä—ã—Ç—ã–π –∫–ª—é—á. –¢–µ–∫—Å—Ç –∏–∑ –Ω–µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ —Ñ–∞–π–ª `~/.ssh/authorized_keys`
- `‚Äé/mod_data/ssh.key` - –∑–∞–∫—Ä—ã—Ç—ã–π –∫–ª—é—á. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏–Ω—Ç–µ—Ä–æ–º –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É.

–°–∞–º–∏ –∫–ª—é—á–∏ –≤–∞–º –ø–æ —Å—É—Ç–∏ –Ω–µ –Ω—É–∂–Ω—ã.
–í–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã–∑–≤–∞—Ç—å –º–∞–∫—Ä–æ—Å [ZSSH_ON](https://github.com/ghzserg/zmod/wiki/Zmod_ru#zssh_on) –ø–µ—Ä–µ–¥–∞–≤ —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- SSH_SERVER - ip –∏–ª–∏ –∏–º—è –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- SSH_PORT - –ø–æ—Ä—Ç ssh –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ - –æ–±—ã—á–Ω–æ 22
- SSH_USER - –∏–º—è  –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ ssh —Å–µ—Ä–≤–µ—Ä–µ
- VIDEO_PORT - –ø–æ—Ä—Ç –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è –ø—Ä–∏–µ–º–∞ –≤–∏–¥–µ–æ–¥–∞–Ω–Ω—ã—Ö —Å –∫–∞–º–µ—Ä—ã (8080)
- MOON_PORT - –ø–æ—Ä—Ç –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è –ø—Ä–∏–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç moonraker (7125).
- REMOTE_RUN - –∫–æ–º–∞–Ω–¥–∞, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ

–ó–∞–ø—É—Å–∫ ssh —Å—ä–µ–¥–∞–µ—Ç –æ–∫–æ–ª–æ 300 –∫–∏–ª–æ–±–∞–π—Ç –ø–∞–º—è—Ç–∏.

**–ï—Å–ª–∏ –ø—Ä–∏–Ω—Ç–µ—Ä –∏ —Å–µ—Ä–≤–µ—Ä –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏, —Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SSH –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ. –ß–∏—Ç–∞–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ [telegram.conf](https://github.com/ghzserg/zmod_ff5m/blob/1.6/telegram/telegram.conf)** [Sample-config](https://github.com/nlef/moonraker-telegram-bot/wiki/Sample-config)
–§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å —Å –ø—Ä–∏–Ω—Ç–µ—Ä–∞ `mod/telegram/`.

<div align="center">

[![Top](https://github.com/ghzserg/zmod/wiki/images/Top.svg)](#telegram-bot)

</div>

---

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–æ—Ç–∞

–ö–∞–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π –±–æ—Ç
1. –ò–¥–µ—Ç–µ –∫ [@BotFather](https://t.me/BotFather)
2. `/newbot`
3. –í–≤–æ–¥–∏—Ç–µ –ª—é–±–æ–µ –∏–º—è, –∫–æ—Ç–æ—Ä–æ–µ  –≤–∞–º –Ω—Ä–∞–≤–∏—Ç—Å—è
4. –í–≤–æ–¥–∏—Ç–µ –∏–º—è –±–æ—Ç–∞  ff5msuper_bot - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ _bot  –≤ –∫–æ–Ω—Ü–µ. 
5. –ü–æ–ª—É—á–∞–µ—Ç–µ  –¥–ª–∏–Ω–Ω—ã–π ID - –µ–≥–æ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø—Ä–æ–ø–∏—Å–∞—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–æ—Ç–∞ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä bot_token

<div align="center">

[![Top](https://github.com/ghzserg/zmod/wiki/images/Top.svg)](#telegram-bot)

</div>

---

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–ª–µ–≥—Ä–∞–º–º –±–æ—Ç–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π –Ω–∞ Debian

–ï—Å–ª–∏ –≤–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram - —Ç–æ [–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–ª–∞–≥–∏–Ω Notify](https://github.com/ghzserg/notify/blob/main/Readme_ru.md)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–ª–µ–≥—Ä–∞–º–º –±–æ—Ç–∞ [–æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π](https://github.com/ghzserg/zmod_ff5m/blob/1.6/telegram/telegram.sh) –Ω–∞ Debian:

–í—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º `root`
```
bash <(wget --cache=off -q -O - https://github.com/ghzserg/zmod_ff5m/raw/refs/heads/1.6/telegram/telegram.sh)
```

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç wget
```
apt update && apt install wget -y
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç docker
2. –°–∫–∞—á–∞–µ—Ç [docker-compose.yml](https://github.com/ghzserg/zmod_ff5m/blob/1.6/telegram/docker-compose.yml) –∏ [telegram.conf](https://github.com/ghzserg/zmod_ff5m/blob/1.6/telegram/telegram.conf). [Sample-config](https://github.com/nlef/moonraker-telegram-bot/wiki/Sample-config)
3. –°–æ–∑–¥–∞—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è tbot
4. –ù–∞–ø–∏—à–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–µ–ª–µ–≥—Ä–∞–º–º –±–æ—Ç–∞ –∏ –∑–∞–ø—Ä–æ—Å–∏—Ç `bot_token`
5. –ù–∞–ø–∏—à–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é `chat_id` –∏ –∑–∞–ø—Ä–æ—Å–∏—Ç `chat_id`
6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç [ff5m.sh](https://github.com/ghzserg/zmod_ff5m/blob/1.6/telegram/ff5m.sh)

–î–æ–±–∞–≤–∏—Ç—å ssh –∫–ª—é—á –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ

<div align="center">

[![Top](https://github.com/ghzserg/zmod/wiki/images/Top.svg)](#telegram-bot)

</div>

---

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–ª–µ–≥—Ä–∞–º–º –±–æ—Ç–∞ –ø–æ —à–∞–≥–∞–º

–ï—Å–ª–∏ –≤–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram - —Ç–æ [–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–ª–∞–≥–∏–Ω Notify](https://github.com/ghzserg/notify/blob/main/Readme_ru.md)

–ë–µ—Ä–µ—Ç–µ —Ñ–∞–π–ª [docker-compose.yml](https://github.com/ghzserg/zmod_ff5m/blob/1.6/telegram/docker-compose.yml) –∏–∑ `mod/telegram/` c –ø—Ä–∏–Ω—Ç–µ—Ä–∞.

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ docker, –¥–∞–ª–µ–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Debian
```
apt update 
apt upgrade -y
apt install docker.io docker-compose docker apparmor -y
```

–°–æ–∑–¥–∞–µ—Ç–µ  –∫–∞—Ç–∞–ª–æ–≥ –¥–ª—è –±–æ—Ç–∞.
```
mkdir bot1
cd bot1
```

–ü–æ–º–µ—â–∞–µ—Ç–µ  —Ç—É–¥–∞  [docker-compose.yml](https://github.com/ghzserg/zmod_ff5m/blob/1.6/telegram/docker-compose.yml)

–°–æ–∑–¥–∞–µ—Ç–µ –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–∏
```
mkdir config log timelapse_finished timelapse
chmod 777 config log timelapse_finished timelapse
```

–í –∫–∞—Ç–∞–ª–æ–≥ config –ø–æ–º–µ—â–∞–µ—Ç–µ [telegram.conf](https://github.com/ghzserg/zmod_ff5m/blob/1.6/telegram/telegram.conf) –∏–∑ [mod/telegram/](https://github.com/ghzserg/zmod_ff5m/blob/1.6/telegram/telegram.conf) –∏ –ø—Ä–∞–≤–∏—Ç–µ –µ–≥–æ –ø–æ–¥ —Å–µ–±—è.

[Sample-config](https://github.com/nlef/moonraker-telegram-bot/wiki/Sample-config)

–ë–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –±–æ—Ç–∞ –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å [—Ç—É—Ç](https://github.com/nlef/moonraker-telegram-bot/wiki)

–ò–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ bot1 –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ
```
docker-compose up -d
```

–î–æ–±–∞–≤–ª—è–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –¥–∞–µ–º –µ–º—É –ø—Ä–∞–≤–æ —Å–∞–º–æ–º—É –∑–∞–ø—É—Å–∫–∞—Ç—å docker-compose
```
useradd tbot
usermod -a -G docker tbot
```

<div align="center">

[![Top](https://github.com/ghzserg/zmod/wiki/images/Top.svg)](#telegram-bot)

</div>

---

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ ssh –∫–ª—é—á–µ–π
1. –ó–∞—Ö–æ–¥–∏–º –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º `tbot`
   ```bash
   su - tbot
   ```

2. –ü—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º ssh –∫–ª—é—á–∏:
   ```bash
   mkdir  .ssh
   cat >.ssh/authorized_keys
   ```

   –í–≤–æ–¥–∏—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã–π –∫–ª—é—á –∏–∑ —Ñ–∞–π–ª–∞ `mod_data/ssh.pub.txt`. –ü–æ—Ç–æ–º  `Ctrl + d` 

<div align="center">

[![Top](https://github.com/ghzserg/zmod/wiki/images/Top.svg)](#telegram-bot)

</div>

---

#### –ó–∞–ø—É—Å–∫ ZSSH –Ω–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–µ
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –Ω–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–µ [ZSSH_ON](https://github.com/ghzserg/zmod/wiki/Zmod_ru#zssh_on) c –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

–ü–æ—Å–ª–µ  –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ ssh, –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ 3 –º–∏–Ω—É—Ç—ã.

<div align="center">

[![Top](https://github.com/ghzserg/zmod/wiki/images/Top.svg)](#telegram-bot)

</div>

#### TimeZone

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª [docker-compose.yml](https://github.com/ghzserg/zmod_ff5m/blob/1.6/telegram/docker-compose.yml)

–£–∫–∞–∂–∏—Ç–µ  –≤–∞—à—É –≤—Ä–µ–º–µ–Ω–Ω—É—é –∑–æ–Ω—É. –í –ø—Ä–∏–º–µ—Ä–µ —Ñ–∞–π–ª–∞ —É–∫–∞–∑–∞–Ω–∞ ```TZ=Asia/Yekaterinburg```

```docker-compose down && docker-compose up -d``` –∏–ª–∏ ```docker compose down && docker compose up -d```

<div align="center">

[![Top](https://github.com/ghzserg/zmod/wiki/images/Top.svg)](#telegram-bot)

</div>

#### Spoolman

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª [docker-compose.yml](https://github.com/ghzserg/zmod_ff5m/blob/1.6/telegram/docker-compose.yml)

–î–æ–±–∞–≤—å—Ç–µ:
```
  spoolman:
    image: ghcr.io/donkie/spoolman:latest
    restart: unless-stopped
    volumes:
      - ./spoolman:/home/app/.local/share/spoolman
    ports:
      - "7912:8000"
    environment:
      - TZ=Asia/Yekaterinburg
```

–û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç –≤ —Ñ–∞–µ—Ä–≤–æ–ª–µ –µ—Å–ª–∏ –æ–Ω —É –≤–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
```iptables -I INPUT -p tcp --dport 7912 -j ACCEPT```

–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `spoolman`
```
mkdir spoolman
chmod 777 spoolman
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ docker:
```docker-compose down && docker-compose up -d``` –∏–ª–∏ ```docker compose down && docker compose up -d```

–ù–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–µ –ø—Ä–æ–ø–∏—à–∏—Ç–µ –≤ `mod_data/user.moonraker.conf`

`external_IP` - –≤–Ω–µ—à–Ω–∏–π –ò–ü —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Å—Ç–æ–∏—Ç docker

–£ –ø—Ä–∏–Ω—Ç–µ—Ä–∞ –î–û–õ–ñ–ï–ù –±—ã—Ç—å –¥–æ—Å—Ç—É–ø –∫ —ç—Ç–æ–º—É IP

```
[spoolman]
server: http://external_IP:7912
sync_rate: 5
```

<div align="center">

[![Top](https://github.com/ghzserg/zmod/wiki/images/Top.svg)](#telegram-bot)

</div>

---

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è armbian (–æ—Ç noyhay)

–ï—Å–ª–∏ –≤–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram - —Ç–æ [–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–ª–∞–≥–∏–Ω Notify](https://github.com/ghzserg/notify/blob/main/Readme_ru.md)

–°–∫–∞—á–∏–≤–∞–µ–º Debian Minimal/IOT images with Armbian —Å —Å–∞–π—Ç–∞ [https://www.armbian.com/download/](https://www.armbian.com/download/)

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Armbian –Ω–∞ sdcard —Å –ø–æ–º–æ—â—å—é balenaEtcher —Å —Å–∞–π—Ç–∞ [https://etcher.balena.io/](https://etcher.balena.io/)

–ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏—Å—Ç–µ–º—É, —Å–æ–∑–¥–∞–µ–º –ø–∞—Ä–æ–ª—å root –∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–í –¥–∞–ª—å–Ω–µ–π—à–µ–º –≤—Å–µ –¥–µ–ª–∞–µ–º –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º root
```
su - root
```

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º wi-fi, –µ—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
sudo armbian-config
```

–û–±–Ω–æ–≤–ª—è–µ–º —Å–∏—Å—Ç–µ–º—É
```
sudo apt update && sudo apt upgrade -y
```

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º apparmor –º–æ–¥—É–ª—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —è–¥—Ä–∞ Linux
```
sudo apt install -y apparmor apparmor-utils
```

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±–æ—Ç telegram
```
bash <(wget --cache=off -q -O - https://github.com/ghzserg/zmod_ff5m/raw/refs/heads/1.6/telegram/telegram.sh)
```

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ ssh –∫–ª—é—á–µ–π:
–ó–∞—Ö–æ–¥–∏–º –∏–∑ –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è tbot
```
su - tbot
```

–ü—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º ssh –∫–ª—é—á–∏:
```
mkdir -p .ssh
cat >.ssh/authorized_keys
```
–í–≤–æ–¥–∏—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã–π –∫–ª—é—á –∏–∑ —Ñ–∞–π–ª–∞ –≤ —Å–∏—Å—Ç–µ–º–µ –∫–æ—Ä–Ω–µ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ mod_data/ssh.pub.txt. –ü–æ—Ç–æ–º CTRL+D

–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–∏—Å—Ç–µ–º—É
```sudo reboot```

<div align="center">

[![Top](https://github.com/ghzserg/zmod/wiki/images/Top.svg)](#telegram-bot)

</div>

---

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞ —Ç–µ–ª–µ–≥—Ä–∞–º–º —á–µ—Ä–µ–∑ helm –≤ kubernetes (–æ—Ç aldiserg)

–ï—Å–ª–∏ –≤–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram - —Ç–æ [–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–ª–∞–≥–∏–Ω Notify](https://github.com/ghzserg/notify/blob/main/Readme_ru.md)

–°–∫–∞—á–∏–≤–∞–µ–º helm –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä [https://helm.sh/docs/intro/install/](https://helm.sh/docs/intro/install/)

–ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å helm —á–∞—Ä—Ç–æ–º
```
git clone https://github.com/aldiserg/zmod_ff5m_tg_bot.git
```
–ò–∑–º–µ–Ω—è–µ–º:

1. persistence.enabled –º–µ–Ω—è–µ–º –Ω–∞ false –µ—Å–ª–∏ –Ω–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å —Ç–∞–π–º–ª–∞–ø—Å—ã

2. persistence.volumes...storageClass –µ—Å–ª–∏ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π —Å—Ç–æ—Ä–∞–¥–∂ –¥–ª—è —Ç–∞–π–º–ª–∞–ø—Å–æ–≤

2. configMapAsFile.data.telegram.conf - –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–∞—à –∫–æ–Ω—Ñ–∏–≥, —Ç—É—Ç –Ω—É–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –ø–æ–ª—è:
   ```
   [bot]
   server: 3D_printer_host:7125
   bot_token: 1111111111:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
   chat_id: 111111111

   [camera]
   host: http://3D_printer_host:8080/?action=stream
   host_snapshot: http://3D_printer_host:8080/?action=snapshot
   ```
–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å bot_token –∏ chat_id —Å–º–æ—Ç—Ä–∏ [—Ç—É—Ç](https://github.com/ghzserg/zmod/wiki/Telegram_ru#%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B1%D0%BE%D1%82%D0%B0)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞:

–ö–æ–º–∞–Ω–¥—ã –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —á–∞—Ä—Ç
```
helm upgrade --install zmod_ff5m_tg_bot ./ -n default -f values.yaml
```
---
<div align="center">

[![Back](https://github.com/ghzserg/zmod/wiki/images/Back.svg)](https://github.com/ghzserg/zmod/wiki/Zmod_ru)
[![Top](https://github.com/ghzserg/zmod/wiki/images/Top.svg)](#telegram-bot)
[![Forward](https://github.com/ghzserg/zmod/wiki/images/Forward.svg)](https://github.com/ghzserg/zmod/wiki/Pro_en)

</div>

#### –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –ø—Ä–∏–Ω—Ç–µ—Ä–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ SSH

–ü–æ—Å–ª–µ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∏ –û–° –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –º–µ–Ω—è—é—Ç—Å—è **SSH host-–∫–ª—é—á–∏**, –∏ –ø—Ä–∏–Ω—Ç–µ—Ä –æ—Ç–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è —Å –æ—à–∏–±–∫–æ–π:
```
ssh-ed25519 host key mismatch ...
```

##### –†–µ—à–µ–Ω–∏–µ

###### 1. –û—á–∏—Å—Ç–∫–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∫–ª—é—á–µ–π –Ω–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–µ

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ø—Ä–∏–Ω—Ç–µ—Ä—É –ø–æ SSH:

``` bash
ssh root@<IP_–ø—Ä–∏–Ω—Ç–µ—Ä–∞> -p 22
```

–ü–∞—Ä–æ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
```
    root
```

–î–∞–ª–µ–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã:

``` bash
cd ~/.ssh
rm -f know*
```

–≠—Ç–æ —É–¥–∞–ª–∏—Ç —Å—Ç–∞—Ä—ã–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ host-–∫–ª—é—á–∏ —Å–µ—Ä–≤–µ—Ä–∞.

------------------------------------------------------------------------

###### 2. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä—ã SSH-–∫–ª—é—á–µ–π –Ω–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–µ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

–ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –ø–∞—Ä—É –∫–ª—é—á–µ–π, –Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã:

``` bash
cd ~/mod_data
rm -f ssh.pub.txt ssh.key
```

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–µ –∫–ª—é—á–∏.

–ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á (`ssh.pub.txt`) –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–Ω–æ–≤–∞ –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–∞–π–ª:
```
    ~/.ssh/authorized_keys
```
–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `tbot`).

------------------------------------------------------------------------

###### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ –∫–ª—é—á–µ–π –Ω–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `authorized_keys` –Ω–∞
—Å–µ—Ä–≤–µ—Ä–µ --- –∑–∞–ø—É—Å—Ç–∏—Ç–µ ZSSH –º–∞–∫—Ä–æ—Å –Ω–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–µ.
–¢–µ–ø–µ—Ä—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫.

---
<div align="center">

[![Back](https://github.com/ghzserg/zmod/wiki/images/Back.svg)](https://github.com/ghzserg/zmod/wiki/Zmod_ru)
[![Top](https://github.com/ghzserg/zmod/wiki/images/Top.svg)](#telegram-bot)
[![Forward](https://github.com/ghzserg/zmod/wiki/images/Forward.svg)](https://github.com/ghzserg/zmod/wiki/Pro_en)

</div>